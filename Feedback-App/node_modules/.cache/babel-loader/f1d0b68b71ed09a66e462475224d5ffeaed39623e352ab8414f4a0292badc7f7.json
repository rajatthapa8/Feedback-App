{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajat\\\\OneDrive\\\\Desktop\\\\Practise front end\\\\Feedback-App-master\\\\src\\\\components\\\\FeedbackForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from 'react';\nimport Card from './shared/Card';\nimport Button from './shared/Button';\nimport RatingSelect from './RatingSelect';\nimport FeedbackContext from '../context/FeedbackContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FeedbackForm() {\n  _s();\n  const [text, setText] = useState('');\n  const [rating, setRating] = useState(10);\n  const [errMessage, seterrMessage] = useState('');\n  const [btnDisabled, setbtnDisabled] = useState(true);\n  const {\n    addFeedback,\n    feedbackEdit,\n    updateFeedback\n  } = useContext(FeedbackContext);\n  useEffect(() => {\n    if (feedbackEdit.edit === true) {\n      setbtnDisabled(false);\n      setText(feedbackEdit.data.text);\n      setRating(feedbackEdit.data.Rating);\n    }\n  }, [feedbackEdit]);\n  const handletextChange = e => {\n    if (text === '') {\n      seterrMessage(null);\n      setbtnDisabled(true);\n    } else if (text !== '' && text.trim().length <= 10) {\n      seterrMessage('The text should be at least 10 character long');\n      setbtnDisabled(true);\n    } else {\n      seterrMessage(null);\n      setbtnDisabled(false);\n    }\n    setText(e.target.value);\n  };\n  //inserting new object from the form\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (text.trim().length > 10) {\n      const newFeedback = {\n        text,\n        rating\n      };\n      if (feedbackEdit.edit === true) {\n        updateFeedback(feedbackEdit.item.id, newFeedback);\n      } else {\n        addFeedback(newFeedback);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Please leave your rating!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(RatingSelect, {\n        select: rating => setRating(rating)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Write a Review here\",\n          onChange: handletextChange,\n          value: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          version: \"secondary\",\n          type: \"submit\",\n          isDisabled: btnDisabled,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"msg\",\n        children: errMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(FeedbackForm, \"naUjPdVFOSVkHKtqEjf3c4ZQbVQ=\");\n_c = FeedbackForm;\nexport default FeedbackForm;\nvar _c;\n$RefreshReg$(_c, \"FeedbackForm\");","map":{"version":3,"names":["useState","useContext","useEffect","Card","Button","RatingSelect","FeedbackContext","FeedbackForm","text","setText","rating","setRating","errMessage","seterrMessage","btnDisabled","setbtnDisabled","addFeedback","feedbackEdit","updateFeedback","edit","data","Rating","handletextChange","e","trim","length","target","value","handleSubmit","preventDefault","newFeedback","item","id"],"sources":["C:/Users/rajat/OneDrive/Desktop/Practise front end/Feedback-App-master/src/components/FeedbackForm.jsx"],"sourcesContent":["import { useState,useContext,useEffect } from 'react'\nimport Card from './shared/Card'\nimport Button from './shared/Button'\nimport RatingSelect from './RatingSelect'\nimport FeedbackContext from '../context/FeedbackContext'\n\nfunction FeedbackForm() {\n    const [text,setText] = useState('')\n    const [rating,setRating] = useState(10)\n    const [errMessage,seterrMessage] = useState('')\n    const [btnDisabled,setbtnDisabled] = useState(true)\n    const {addFeedback, feedbackEdit, updateFeedback} = useContext (FeedbackContext)\n    \n    useEffect(()=>{\n        if(feedbackEdit.edit === true){\n            setbtnDisabled(false)\n            setText(feedbackEdit.data.text)\n            setRating(feedbackEdit.data.Rating)\n        }\n    },[feedbackEdit])\n\n    const handletextChange = (e) =>{\n        if(text===''){\n         seterrMessage(null);\n         setbtnDisabled(true);\n        }else if(text!=='' && text.trim().length <= 10){\n            seterrMessage('The text should be at least 10 character long');\n            setbtnDisabled(true)\n        }else{\n            seterrMessage(null);\n            setbtnDisabled(false);\n        }\n        setText(e.target.value)\n\n    }\n    //inserting new object from the form\n    const handleSubmit = (e) =>{\n        e.preventDefault();\n        \n        if(text.trim().length > 10){\n            const newFeedback={\n                text,rating\n            }\n            if(feedbackEdit.edit === true) {\n            updateFeedback(feedbackEdit.item.id,newFeedback)\n            }else{\n                addFeedback(newFeedback)\n            }\n    }\n}\n\n        \n\n  \n\n  return (\n    <Card>\n        <form onSubmit={handleSubmit}>\n            <h3>Please leave your rating!!!</h3>\n            <RatingSelect select={(rating)=>setRating(rating)}></RatingSelect>\n            <div className='input-group'>\n                <input type=\"text\" placeholder='Write a Review here' onChange={handletextChange} value={text}/>\n                <Button version=\"secondary\" type=\"submit\" isDisabled={btnDisabled}>Send</Button>\n            </div>\n        <div className=\"msg\">\n            {errMessage}\n        </div>       \n        </form>\n    </Card>\n  )\n}\n\nexport default FeedbackForm\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}